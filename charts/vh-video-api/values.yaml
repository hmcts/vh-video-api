---
java:
  image: 'sdshmctspublic.azurecr.io/vh/video-api:20210210.6'
  applicationPort: 8080
  replicas: 2
  ingressHost: vh-video-api.{{ .Values.global.environment }}.platform.hmcts.net
  releaseNameOverride: vh-video-api
  readinessPath: /healthcheck/health
  livenessPath: /healthcheck/health
  livenessDelay: 360
  livenessPeriod: 120
  aadIdentityName: vh-aad-identity
  keyVaults:
    vh-infra-core:
      excludeEnvironmentSuffix: false
      resourceGroup: vh-infra-core-{{ .Values.global.environment }}
      usePodIdentity: true
      secrets:
        - applicationinsights-instrumentationkey
        - applicationinsights-connection-string
        - customtoken--secret
        - customtoken--thirdpartysecret
        - CvpConfiguration--StorageAccountName
        - CvpConfiguration--StorageAccountKey
        - CvpConfiguration--StorageContainerName
        - CvpConfiguration--StorageEndpoint
        - azuread--vhvideowebclientid
        - kinlyconfiguration--apisecret
        - kinlyconfiguration--callbacksecret
        - kinlyconfiguration--selftestapisecret
        - servicebusqueue--connectionstring
        - services--vhvideowebclientid
        - wowzaconfiguration--streamPassword-<ENV>
        - wowzaconfiguration--restPassword-<ENV>
        - wowzaconfiguration--storageaccountkey
        - wowzaconfiguration--managedidentityclientid
        - wowzaconfiguration--azure-storage-directory
        - wowzaconfiguration--endpoint
        - wowzaconfiguration--storage-account
        - wowzaconfiguration--storage-account-endpoint
        - wowzaconfiguration--storage-account-container
        - wowzaconfiguration--username
        - vhvideoapi
    vh-video-api:
      excludeEnvironmentSuffix: false
      resourceGroup: vh-infra-core-{{ .Values.global.environment }}
      usePodIdentity: true
      secrets:
        - azuread--clientsecret
        - azuread--clientid
  environment:
    ASPNETCORE_URLS: http://+:8080
    APPINSIGHTS_PROFILERFEATURE_VERSION: disabled
    APPINSIGHTS_SNAPSHOTFEATURE_VERSION: disabled
    APPLICATIONINSIGHTSAGENT_EXTENSION_VERSION: ~2
    AZUREAD__VHVIDEOAPIRESOURCEID: http://vh-video-api.{{ .Values.global.environment }}.platform.hmcts.net/
    KINLYCONFIGURATION__TELEPHONECONFERENCENUMBER: +442033183131
    MSDEPLOY_RENAME_LOCKED_FILES: 1
    SERVICES__CALLBACKURI: http://vh-video-web.{{ .Values.global.environment }}.hearings.hmcts.net/callback
    SERVICES__KINLYAPIURL: http://hmcts-java.dev.kinlycloud.net/virtual-court/api/v1
    SERVICES__KINLYSELFTESTAPIURL: http://test.self-test.hearings.hmcts.net
    SERVICES__PEXIPSELFTESTNODE: sip.test.self-test.hearings.hmcts.net
    SERVICES__VIDEOAPIURL: http://vh-video-api.{{ .Values.global.environment }}.platform.hmcts.net
    Logging__LogLevel__Default: debug
    Logging__LogLevel__System: debug
    Logging__LogLevel__Microsoft: debug
