---
java:
  image: 'sdshmctspublic.azurecr.io/vh/video-api:20210213.1'
  applicationPort: 8080
  replicas: 2
  ingressHost: vh-video-api.{{ .Values.global.environment }}.platform.hmcts.net
  releaseNameOverride: vh-video-api
  readinessPath: /healthcheck/health
  livenessPath: /healthcheck/health
  livenessDelay: 360
  livenessPeriod: 120
  aadIdentityName: vh-aad-identity
  keyVaults:
    vh-infra-core:
      excludeEnvironmentSuffix: false
      resourceGroup: vh-infra-core-{{ .Values.global.environment }}
      usePodIdentity: true
      secrets:
        - cvpconfiguration--managedidentityclientid
        - cvpconfiguration--storageaccountKey
        - azuread--vhvideowebclientid
        - servicebusqueue--connectionstring
        - services--videowebclientid
        - wowzaconfiguration--password
        - wowzaconfiguration--storageaccountkey
        - wowzaconfiguration--managedidentityclientid
        - applicationinsights--instrumentationkey
        - connectionstrings--videoapi
        - kinlyconfiguration--apisecret
        - kinlyconfiguration--callbacksecret
        - kinlyconfiguration--selftestapisecret
    vh-video-api:
      excludeEnvironmentSuffix: false
      resourceGroup: vh-infra-core-{{ .Values.global.environment }}
      usePodIdentity: true
      secrets:
        - azuread--clientsecret
        - azuread--clientid
  environment:
    ASPNETCORE_URLS: http://+:8080
    APPINSIGHTS_PROFILERFEATURE_VERSION: disabled
    APPINSIGHTS_SNAPSHOTFEATURE_VERSION: disabled
    APPLICATIONINSIGHTSAGENT_EXTENSION_VERSION: ~2
    AZUREAD__TENANTID: "fb6e0e22-0da3-4c35-972a-9d61eb256508"
    AZUREAD__VHVIDEOAPIRESOURCEID: https://vh-video-api.{{ .Values.global.environment }}.platform.hmcts.net/
    CVPCONFIGURATION__STORAGEACCOUNTNAME: cvprecordings{{ .Values.global.environment }}sa
    CVPCONFIGURATION__STORAGECONTAINERNAME: recordings
    CVPCONFIGURATION__STORAGEENDPOINT: https://cvprecordings{{ .Values.global.environment }}sa.blob.core.windows.net/
    DISABLEHTTPSREDIRECTION: true
    INSTRUMENTATIONENGINE_EXTENSION_VERSION: ~1
    KINLYCONFIGURATION__CONFERENCEPHONENUMBER: "+442033183131"
    KINLYCONFIGURATION__CONFERENCEUSERNAME: "ola@hearings.hmcts.net"
    KINLYCONFIGURATION__CALLBACKURI: https://vh-video-web.{{ .Values.global.environment }}.hearings.hmcts.net/callback/conference
    KINLYCONFIGURATION__KINLYAPIURL: "https://test.hearings.hmcts.net/virtual-court/api/v1"
    KINLYCONFIGURATION__KINLYSELFTESTAPIURL: https://test.self-test.hearings.hmcts.net/api/v1
    KINLYCONFIGURATION__PEXINODE: sip.test.hearings.hmcts.net
    KINLYCONFIGURATION__PEXIPSELFTESTNODE: sip.test.self-test.hearings.hmcts.net
    MSDEPLOY_RENAME_LOCKED_FILES: 1
    SERVICEBUSQUEUE__QUEUENAME: video
    SERVICES__CALLBACKURI: https://vh-video-api.{{ .Values.global.environment }}.platform.hmcts.net/callback/conference
    SERVICES__VHVIDEOAPIRESOURCEID: http://vh-video-api.{{ .Values.global.environment }}.platform.hmcts.net
    SNAPSHOTDEBUGGER_EXTENSION_VERSION: disabled
    VideoAppUrl: https://vh-video-web.{{ .Values.global.environment }}.hearings.reform.hmcts.net
    WOWZACONFIGURATION__AZURESTORAGEDIRECTORY: ${com.wowza.wms.context.â€¦Home}/content/azurecopy
    WOWZACONFIGURATION__HOSTNAME: _defaultVHost_
    WOWZACONFIGURATION__RESTAPIENDPOINT: https://vh-wowza.{{ .Values.global.environment }}.hearings.reform.hmcts.net:8090/
    WOWZACONFIGURATION__RESTAPIENDPOINT__0: https://vh-wowza.{{ .Values.global.environment }}.hearings.reform.hmcts.net:8090/
    WOWZACONFIGURATION__RESTAPIENDPOINT__1: https://vh-wowza.{{ .Values.global.environment }}.hearings.reform.hmcts.net:8091/
    WOWZACONFIGURATION__SERVERNAME: _defaultServer_
    WOWZACONFIGURATION__STORAGEACCOUNTNAME: vhwowza{{ .Values.global.environment }}
    WOWZACONFIGURATION__STORAGECONTAINERNAME: recordings
    WOWZACONFIGURATION__STORAGEDIRECTORY: ${com.wowza.wms.context.VHostConfigHome}/content/
    WOWZACONFIGURATION__STORAGEENDPOINT: https://vhwowza{{ .Values.global.environment }}.blob.core.windows.net/
    WOWZACONFIGURATION__STREAMINGENDPOINT: rtmps://vh-wowza-{{ .Values.global.environment }}.hearings.reform.hmcts.net:443/
    WOWZACONFIGURATION__USERNAME: wowza
    Logging__LogLevel__Default: debug
    Logging__LogLevel__System: debug
    Logging__LogLevel__Microsoft: debug
